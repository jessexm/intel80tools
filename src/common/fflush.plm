fflush: DO;

DECLARE LIT LITERALLY 'LITERALLY';

DECLARE FILE$T LIT
 'STRUCTURE(AFTN ADDRESS, sNam(6) BYTE, fNam(16) BYTE, BUF$P ADDRESS, BSIZE ADDRESS, ACTUAL ADDRESS, CUROFF ADDRESS)';

$include(:f3:writef.pex)

fflush: PROCEDURE(fp) public;
	DECLARE fp ADDRESS;
	DECLARE file BASED fp FILE$T;

	if file.curoff <> 0 then
	do;
		call writeF(fp, file.buf$p, file.curoff);
		file.curoff = 0;
	end;
end;

END;
